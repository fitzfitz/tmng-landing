---
import AdminLayout from "../../features/admin/admin-layout";
import SubscribersManager from "../../features/admin/subscribers-manager";

const user = Astro.locals.user;

if (!user || user.role !== "admin") {
  return Astro.redirect("/admin/posts"); // Redirect to safe area if not admin
}
---

<AdminLayout user={user} currentPath="/admin/subscribers" client:load>
  <div class="space-y-6 p-6">
    <div>
      <h1 class="text-3xl font-bold bg-clip-text text-transparent bg-linear-to-r from-white to-purple-200">
        Subscribers
      </h1>
      <p class="text-purple-200/70 mt-2">
        Manage your newsletter email list.
      </p>
    </div>

    <SubscribersManager client:load />
  </div>
</AdminLayout>
