---
import BaseLayout from "@/layouts/base-layout.astro";
import { Container } from "@/components/ui";
import LoginForm from "@/features/admin/login-form.tsx";

const user = Astro.locals.user;
if (user) {
  return Astro.redirect("/admin/posts");
}
---

<BaseLayout title="Admin Login | TMNG" description="Sign in to manage your blog." showNav={false}>
  <section class="min-h-screen flex items-center justify-center py-20">
    <Container className="max-w-md">
      <div class="glass-card-strong rounded-3xl p-10 text-center">
        {/* Logo */}
        <div class="mb-8">
          <div class="inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-linear-to-br from-fuchsia-500 to-purple-600 shadow-lg shadow-fuchsia-500/25 mb-4">
            <span class="text-2xl font-bold text-white">TM</span>
          </div>
          <h1 class="text-2xl font-bold text-white mb-2">
            Welcome to Admin
          </h1>
          <p class="text-purple-200/70 text-sm">
            Sign in with your email and password to manage posts.
          </p>
        </div>

        {/* Login Form */}
        <LoginForm client:load />

        {/* Info */}
        <div class="mt-8 pt-6 border-t border-white/10">
          <p class="text-purple-200/50 text-xs">
            Contact an administrator if you don't have an account.
          </p>
        </div>
      </div>
    </Container>
  </section>
</BaseLayout>
