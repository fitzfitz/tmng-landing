---
import { Container, Button } from "@/components/ui";

const links = [
  { href: "/", label: "Home" },
  { href: "/blog", label: "Blog" },
  { href: "/contact", label: "Contact" },
];

const currentPath = Astro.url.pathname;
---

<header class="fixed top-6 left-0 right-0 z-50 flex justify-center px-4 pointer-events-none">
  <div class="glass-panel rounded-full px-2 py-2 flex items-center justify-between pointer-events-auto w-full max-w-5xl transition-all duration-300 hover:border-white/20">
      
      {/* Brand */}
      <a href="/" class="flex items-center gap-3 px-6 py-2 rounded-full hover:bg-white/5 transition-colors group">
        <div class="relative w-3 h-3">
            <span class="absolute inset-0 rounded-full bg-fuchsia-500 animate-ping opacity-75"></span>
            <span class="relative inline-flex rounded-full h-3 w-3 bg-fuchsia-500"></span>
        </div>
        <span class="text-lg font-bold tracking-tight text-white group-hover:text-fuchsia-400 transition-colors">
          TMNG
        </span>
      </a>

      {/* Desktop Nav */}
      <nav class="hidden md:flex items-center gap-1 bg-white/5 rounded-full px-2 py-1 border border-white/5">
        {links.map((link) => {
          const isActive = currentPath === link.href || (link.href !== '/' && currentPath.startsWith(link.href));
          return (
            <a 
              href={link.href} 
              class:list={[
                "relative px-5 py-2 text-sm font-medium transition-all duration-300 rounded-full",
                isActive 
                  ? "text-white bg-white/10 shadow-[0_0_10px_rgba(255,255,255,0.1)] border border-white/10" 
                  : "text-purple-300 hover:text-white hover:bg-white/5 border border-transparent"
              ]}
            >
              {link.label}
            </a>
          );
        })}
      </nav>
      
      {/* Action / Mobile */}
      <div class="flex items-center gap-4 px-2">
         <Button as="a" href="/contact" variant="primary" size="sm" className="rounded-full px-6 shadow-[0_0_15px_rgba(16,185,129,0.3)] hover:shadow-[0_0_25px_rgba(16,185,129,0.5)] transition-shadow">
            Run Protocol
         </Button>
         
         {/* Mobile Menu Toggle */}
         <button class="md:hidden w-10 h-10 flex items-center justify-center rounded-full hover:bg-white/10 text-white transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
            </svg>
         </button>
      </div>
  </div>
</header>
