---
import { Container, Typography } from "@/components/ui";

const partners = [
  { name: "Marketly", icon: "ğŸ“Š" },
  { name: "Volume", icon: "ğŸµ" },
  { name: "PinPoint", icon: "ğŸ“" },
  { name: "Natural", icon: "ğŸŒ¿" },
  { name: "Automation", icon: "âš¡" },
  { name: "DataFlow", icon: "ğŸ’«" }
];
---

<section class="partners-section py-20 purple-section relative overflow-hidden opacity-0">
  <Container>
    <div class="text-center mb-12">
      <Typography variant="h2" className="text-white font-bold mb-3">Trusted by Industry Leaders</Typography>
      <Typography variant="lead" className="text-purple-100 max-w-2xl mx-auto">
        Proud to partner with innovative companies pushing boundaries
      </Typography>
    </div>
    
    <div class="relative w-full overflow-hidden mask-linear-fade">
        <div class="flex items-center justify-center gap-12 lg:gap-16 animate-marquee whitespace-nowrap py-4">
            {[...partners, ...partners, ...partners].map((partner, i) => (
                <div class="flex items-center gap-3 group transition-all duration-300 cursor-default px-4">
                    <span class="text-4xl">{partner.icon}</span>
                    <span class="text-xl font-semibold text-white/90 group-hover:text-white transition-colors">{partner.name}</span>
                </div>
            ))}
        </div>
    </div>
  </Container>
  
  <style>
    .mask-linear-fade {
        mask-image: linear-gradient(to right, transparent, black 15%, black 85%, transparent);
    }
    
    @keyframes marquee {
        0% { transform: translateX(0); }
        100% { transform: translateX(-33.33%); }
    }
    
    .animate-marquee {
        animation: marquee 30s linear infinite;
    }
    
    .animate-marquee:hover {
        animation-play-state: paused;
    }
  </style>
</section>

<script>
  import { gsap } from 'gsap';
  import { ScrollTrigger } from 'gsap/ScrollTrigger';

  gsap.registerPlugin(ScrollTrigger);

  gsap.fromTo('.partners-section',
    { opacity: 0 },
    {
      opacity: 1,
      duration: 1.2,
      ease: 'power2.out',
      scrollTrigger: {
        trigger: '.partners-section',
        start: 'top 75%',
      }
    }
  );
</script>
